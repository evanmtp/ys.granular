#N canvas 92 111 1223 761 10;
#N canvas 33 69 1369 803 autoplay 1;
#X floatatom 279 367 5 0 0 0 - - - 0;
#X obj 300 442 phasor~ 0.1;
#X obj 364 505 spigot;
#X obj 517 346 sel 1;
#X obj 376 371 f;
#X obj 302 565 spigot;
#X obj 163 399 - 1;
#X obj 163 421 abs;
#X obj 162 446 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 222 375 sel 0;
#X obj 233 415 f;
#X floatatom 94 71 5 0 0 0 - - - 0;
#X obj 94 90 / 44.1;
#X floatatom 94 112 5 0 0 0 - - - 0;
#X floatatom 94 153 15 0 0 0 - - - 0;
#X obj 94 131 expr 1000/$f1;
#X obj 181 256 *;
#X obj 250 331 * 1;
#X obj 268 286 t b b;
#X obj 267 259 sel 0 1;
#X msg 301 313 1;
#X obj 325 285 t b b;
#X msg 358 312 -1;
#X obj 474 312 t f f;
#X floatatom 388 393 5 0 0 0 - - - 0;
#X obj 110 201 t b f;
#X floatatom 364 526 5 0 0 0 - - - 0;
#X obj 189 203 * 4;
#X obj 300 464 snapshot~;
#X obj 395 440 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 395 460 metro 10;
#X obj 94 49 r \$1-samplelength;
#X obj 201 167 r \$1-autoplay_speed;
#X obj 267 238 r \$1-autoplay_reverse;
#X obj 403 159 r \$1-sample_offset;
#X obj 511 203 r \$1-autoplay_on_off;
#X obj 167 342 r \$1-freeze;
#X obj 300 593 s \$1-sample_offset_rcv;
#X connect 0 0 1 0 empty;
#X connect 1 0 28 0 empty;
#X connect 2 0 5 0 empty;
#X connect 2 0 26 0 empty;
#X connect 3 0 4 0 empty;
#X connect 4 0 1 1 empty;
#X connect 4 0 24 0 empty;
#X connect 5 0 10 1 empty;
#X connect 5 0 37 0 empty;
#X connect 6 0 7 0 empty;
#X connect 7 0 8 0 empty;
#X connect 8 0 5 1 empty;
#X connect 9 0 10 0 empty;
#X connect 10 0 1 1 empty;
#X connect 11 0 12 0 empty;
#X connect 12 0 13 0 empty;
#X connect 13 0 15 0 empty;
#X connect 14 0 25 0 empty;
#X connect 15 0 14 0 empty;
#X connect 16 0 17 0 empty;
#X connect 17 0 0 0 empty;
#X connect 18 0 17 0 empty;
#X connect 18 1 20 0 empty;
#X connect 19 0 18 0 empty;
#X connect 19 1 21 0 empty;
#X connect 20 0 17 1 empty;
#X connect 21 0 17 0 empty;
#X connect 21 1 22 0 empty;
#X connect 22 0 17 1 empty;
#X connect 23 0 2 1 empty;
#X connect 23 1 3 0 empty;
#X connect 25 0 16 0 empty;
#X connect 25 1 16 1 empty;
#X connect 27 0 16 0 empty;
#X connect 28 0 2 0 empty;
#X connect 29 0 30 0 empty;
#X connect 30 0 28 0 empty;
#X connect 31 0 11 0 empty;
#X connect 32 0 27 0 empty;
#X connect 33 0 19 0 empty;
#X connect 34 0 4 1 empty;
#X connect 35 0 23 0 empty;
#X connect 35 0 29 0 empty;
#X connect 36 0 6 0 empty;
#X connect 36 0 9 0 empty;
#X restore 1219 379 pd autoplay;
#X floatatom 473 248 5 0 0 0 - - - 0;
#X text 411 250 channels;
#X obj 349 175 loadbang;
#X obj 471 223 r num_channels_rcv;
#X obj 480 310 s num_channels;
#X msg 377 202 32;
#X text 63 278 number of instances of y_grain_stereo should equal the numgrains (I recognise this is silly);
#X msg 307 201 10;
#X text 152 146 (some vestigial things in here to clean up);
#X obj 759 219 metro 1000;
#X msg 62 223 next 1;
#X obj 879 139 * 1000, f 10;
#X obj 759 259 random 100;
#X floatatom 759 299 5 0 0 0 - - - 0;
#X obj 759 339 < 100;
#X obj 759 379 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 759 419 sel 1;
#X obj 759 459 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 859 319 * 100;
#X obj 999 319 * 44100;
#X floatatom 999 359 15 0 0 0 - - - 0;
#X floatatom 879 179 6 0 0 0 - - - 8;
#X obj 999 259 + 0.01;
#X obj 759 159 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 759 179 change;
#X obj 455 566 dac~;
#X obj 411 399 *~;
#X obj 504 399 *~;
#X obj 385 348 catch~ \$1-grainoutL;
#X obj 513 345 catch~ \$1-grainoutR;
#X obj 525 372 r \$1-volume;
#X obj 308 256 s \$1-numgrains;
#X obj 63 202 r \$1-mastergrainbang;
#X obj 759 499 s \$1-mastergrainbang;
#X obj 839 419 r \$1-play_one_grain;
#X obj 859 259 r \$1-grainplay_chance;
#X obj 879 99 r \$1-grain_density, f 21;
#X obj 759 119 r \$1-on_off;
#X obj 999 219 r \$1-grain_size;
#X obj 999 399 s \$1-grainsize;
#X obj 1079 259 r samplerate;
#X obj 417 462 hip~ 30;
#X obj 538 465 hip~ 30;
#X obj 438 514 lop~ 8000;
#X obj 510 514 lop~ 8000;
#X obj 239 468 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 244 442 r \$1-reset_pitch;
#X obj 232 519 s \$1-grain_pitch_rcv;
#X msg 227 497 0.25;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-hann 441 float 1;
#A 0 5.58197e-05 0.000211179 0.000466049 0.000820369 0.00127408 0.00182706 0.00248876 0.00325206 0.00411421 0.00507513 0.00613457 0.00729233 0.00855508 0.00992075 0.0113839 0.0129444 0.0146018 0.0163559 0.0182106 0.0201685 0.022222 0.0243706 0.026614 0.0289515 0.0313846 0.0339207 0.0365494 0.0392705 0.0420832 0.0449872 0.0479817 0.0510767 0.0542615 0.0575351 0.0608967 0.0643458 0.0678817 0.0715112 0.0752289 0.0790311 0.082917 0.086886 0.0909373 0.0950752 0.0992985 0.103601 0.107983 0.112443 0.11698 0.121597 0.126294 0.131067 0.135912 0.140831 0.14582 0.150882 0.15602 0.161227 0.166501 0.171841 0.177247 0.182717 0.188257 0.19386 0.199524 0.205248 0.211031 0.216871 0.222772 0.22873 0.234743 0.240808 0.246925 0.253092 0.259311 0.265581 0.271898 0.27826 0.284667 0.291116 0.297608 0.304145 0.31072 0.317332 0.323982 0.330666 0.337384 0.344138 0.350924 0.357738 0.364582 0.371452 0.378348 0.38527 0.392216 0.399183 0.406171 0.413177 0.4202 0.427241 0.434296 0.441365 0.448445 0.455536 0.462635 0.469742 0.476856 0.483974 0.491096 0.498219 0.505343 0.512465 0.519585 0.526701 0.533812 0.540915 0.548011 0.555097 0.562171 0.569233 0.57628 0.583313 0.590329 0.597327 0.604304 0.611259 0.618192 0.625102 0.631987 0.638845 0.645674 0.652473 0.659241 0.665977 0.67268 0.679349 0.685981 0.692573 0.699126 0.70564 0.712113 0.718544 0.72493 0.731267 0.737558 0.743801 0.749996 0.756142 0.762236 0.768272 0.774255 0.780182 0.786054 0.791869 0.797626 0.803318 0.808948 0.814517 0.820022 0.825465 0.830842 0.836149 0.841386 0.846554 0.851654 0.856683 0.861642 0.866525 0.87133 0.876061 0.880717 0.885297 0.8898 0.894225 0.898563 0.902821 0.906999 0.911096 0.915111 0.919044 0.922885 0.926639 0.930309 0.933894 0.937391 0.940802 0.944118 0.947342 0.950477 0.953522 0.956477 0.959341 0.962108 0.964778 0.967354 0.969838 0.972228 0.974525 0.976724 0.978819 0.980819 0.982723 0.984531 0.986243 0.987857 0.989363 0.990772 0.992083 0.993295 0.99441 0.995426 0.996334 0.997141 0.997848 0.998457 0.998966 0.999376 0.99968 0.999879 0.999978 0.999978 0.999879 0.999679 0.999376 0.998966 0.998457 0.997848 0.99714 0.996333 0.995426 0.994409 0.993295 0.992082 0.990771 0.989362 0.987857 0.986242 0.98453 0.982722 0.980818 0.978818 0.976722 0.974523 0.972227 0.969837 0.967353 0.964776 0.962107 0.959339 0.956475 0.95352 0.950475 0.94734 0.944116 0.9408 0.937389 0.933891 0.930307 0.926637 0.922882 0.919042 0.915109 0.911094 0.906997 0.902818 0.89856 0.894222 0.889797 0.885294 0.880714 0.876058 0.871327 0.866522 0.861639 0.85668 0.851651 0.846551 0.841383 0.836146 0.830839 0.825461 0.820019 0.814513 0.808945 0.803315 0.797622 0.791865 0.786051 0.780179 0.774251 0.768269 0.762232 0.756138 0.749993 0.743798 0.737554 0.731263 0.724926 0.71854 0.712109 0.705636 0.699123 0.692569 0.685977 0.679345 0.672676 0.665973 0.659237 0.652469 0.64567 0.638841 0.631983 0.625098 0.618188 0.611255 0.604299 0.597323 0.590325 0.583309 0.576276 0.569229 0.562167 0.555093 0.548007 0.540911 0.533807 0.526697 0.519581 0.512461 0.505338 0.498215 0.491092 0.48397 0.476852 0.469738 0.462631 0.455531 0.448441 0.441361 0.434292 0.427236 0.420196 0.413173 0.406167 0.399179 0.392212 0.385266 0.378344 0.371448 0.364578 0.357734 0.350919 0.344134 0.33738 0.330662 0.323978 0.317328 0.310716 0.304141 0.297604 0.291112 0.284663 0.278257 0.271894 0.265578 0.259307 0.253088 0.246921 0.240804 0.234739 0.228727 0.222768 0.216867 0.211027 0.205245 0.199521 0.193857 0.188254 0.182714 0.177243 0.171838 0.166497 0.161223 0.156016 0.150878 0.145817 0.140827 0.135909 0.131063 0.126291 0.121593 0.116977 0.11244 0.10798 0.103598 0.0992954 0.0950722 0.0909344 0.086883 0.0829141 0.0790282 0.075226 0.0715085 0.0678789 0.0643432 0.0608941 0.0575325 0.054259 0.0510742 0.0479794 0.0449848 0.042081 0.0392683 0.0365472 0.0339186 0.0313826 0.0289496 0.026612 0.0243689 0.0222203 0.0201668 0.018209 0.0163543 0.0146004 0.012943 0.0113826 0.00991952 0.00855392 0.00729129 0.00613356 0.00507423 0.00411341 0.00325134 0.00248814 0.00182652 0.00127363 0.000820011 0.00046578 0.00021103 5.57601e-05 0;
#X coords 0 1 440 0 200 140 1 0 0;
#X restore 758 578 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-crown 441 float 1;
#A 0 0.0356611 0.0712777 0.10689 0.142498 0.1781 0.213688 0.249272 0.284836 0.32039 0.355928 0.391445 0.42695 0.46242 0.497879 0.533304 0.568705 0.604083 0.639418 0.674739 0.710003 0.745247 0.780448 0.815606 0.850737 0.885803 0.920846 0.955822 0.990761 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0.99072 0.955781 0.920804 0.885761 0.850695 0.815564 0.780405 0.745205 0.709961 0.674697 0.639376 0.604041 0.568663 0.533262 0.497837 0.462378 0.426908 0.391402 0.355886 0.320348 0.284794 0.249229 0.213646 0.178057 0.142455 0.106848 0.0712351 0.0356185 3.77489e-07;
#X coords 0 1 440 0 200 140 1 0 0;
#X restore 999 579 graph;
#N canvas 26 25 1122 847 sampling_stereo 1;
#X msg 408 427 stop, f 7;
#X msg 418 561 start \$1;
#X obj 586 212 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 405 42 sel 1 0;
#X obj 119 339 *~;
#X obj 177 158 line~;
#X obj 5 476 dac~;
#X obj 1 335 *~;
#X obj 222 276 line~;
#X msg 223 247 \$1 30;
#X obj 204 347 *~;
#X obj 34 338 *~;
#X floatatom 310 25 5 0 0 0 - - - 0;
#X obj 169 123 pack 0 30;
#X obj 428 267 delay 30;
#N canvas 100 351 688 388 stereomonoMS 0;
#X obj 175 51 adc~;
#X obj 160 344 outlet~;
#X obj 224 345 outlet~;
#X obj 237 235 *~ -1;
#X obj 176 272 *~;
#X obj 205 271 *~;
#X obj 237 271 *~;
#X obj 386 52 sel 0 1 2;
#X msg 340 164 0;
#X msg 368 163 1;
#X msg 404 162 0;
#X msg 432 161 1;
#X obj 407 212 line;
#X obj 343 278 *~;
#X msg 470 160 0;
#X msg 498 159 1;
#X obj 473 210 line;
#X obj 421 276 *~;
#X floatatom 350 241 5 0 0 0 - - - 0;
#X obj 342 214 line 1;
#X msg 342 193 \$1 30;
#X msg 406 191 \$1 30;
#X msg 472 189 \$1 30;
#X msg 540 82 1;
#X msg 503 82 2;
#X obj 515 112 s num_channels;
#X obj 388 24 r \$1-stereoms;
#X floatatom 411 245 5 0 0 0 - - - 0;
#X floatatom 478 244 5 0 0 0 - - - 0;
#X connect 0 0 1 0 empty;
#X connect 0 0 5 0 empty;
#X connect 0 0 13 0 empty;
#X connect 0 1 3 0 empty;
#X connect 0 1 4 0 empty;
#X connect 0 1 17 0 empty;
#X connect 3 0 6 0 empty;
#X connect 4 0 1 0 empty;
#X connect 5 0 2 0 empty;
#X connect 6 0 2 0 empty;
#X connect 7 0 8 0 empty;
#X connect 7 0 10 0 empty;
#X connect 7 0 15 0 empty;
#X connect 7 0 24 0 empty;
#X connect 7 1 9 0 empty;
#X connect 7 1 10 0 empty;
#X connect 7 1 14 0 empty;
#X connect 7 1 24 0 empty;
#X connect 7 2 8 0 empty;
#X connect 7 2 11 0 empty;
#X connect 7 2 14 0 empty;
#X connect 7 2 23 0 empty;
#X connect 7 3 8 0 empty;
#X connect 7 3 10 0 empty;
#X connect 7 3 14 0 empty;
#X connect 8 0 20 0 empty;
#X connect 9 0 20 0 empty;
#X connect 10 0 21 0 empty;
#X connect 11 0 21 0 empty;
#X connect 12 0 13 1 empty;
#X connect 12 0 27 0 empty;
#X connect 13 0 2 0 empty;
#X connect 14 0 22 0 empty;
#X connect 15 0 22 0 empty;
#X connect 16 0 17 1 empty;
#X connect 16 0 28 0 empty;
#X connect 17 0 2 0 empty;
#X connect 19 0 4 1 empty;
#X connect 19 0 5 1 empty;
#X connect 19 0 6 1 empty;
#X connect 19 0 18 0 empty;
#X connect 20 0 19 0 empty;
#X connect 21 0 12 0 empty;
#X connect 22 0 16 0 empty;
#X connect 23 0 25 0 empty;
#X connect 24 0 25 0 empty;
#X connect 26 0 7 0 empty;
#X restore 16 158 pd stereomonoMS;
#X obj 110 713 tabwrite~ \$1-poly_grain-L;
#X obj 276 712 tabwrite~ \$1-poly_grain-R;
#X obj 386 19 r \$1-record;
#X obj 153 95 r \$1-record;
#X obj 229 223 r \$1-input_monitor;
#X obj 658 262 s \$1-samplelength;
#X obj 466 16 loadbang;
#X obj 595 340 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 580 254 t b b b;
#X obj 542 387 t b b b;
#X msg 453 520 0;
#X obj 135 742 r \$1-clear;
#X msg 155 847 \; \$1-poly_grain-L const 0;
#X msg 143 883 \; \$1-poly_grain-R const 0;
#X obj 776 152 timer;
#X floatatom 776 173 5 0 0 0 - - - 0;
#X obj 793 128 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 759 120 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 765 60 sel 1 0;
#X obj 866 109 r samplerate;
#X obj 866 130 / 1000;
#X obj 783 219 * 44.1;
#X obj 764 38 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 725 92 t b b;
#X msg 855 276 \; \$2-poly_grain-L resize \$1;
#X msg 770 308 \; \$2-poly_grain-R resize \$1;
#X msg 726 172 10000;
#X obj 766 6 r \$1-record;
#X obj 776 193 + 30;
#X obj 899 159 loadbang;
#X obj 431 674 s \$1-input_vu-R;
#X obj 531 674 s \$1-input_vu-L;
#N canvas 329 161 625 417 vu 0;
#X obj 59 129 env~ 1024;
#X obj 161 111 abs~;
#X obj 161 213 snapshot~;
#X obj 161 256 rmstodb;
#X obj 161 21 inlet~;
#X obj 161 288 - 100;
#X obj 59 287 - 100;
#X obj 59 361 outlet;
#X obj 161 361 outlet;
#X text 344 307 Check the help file of env~ and slop~ for more details., f 31;
#X obj 239 89 expr 1000 / $f1;
#X floatatom 239 117 5 0 0 0 - - - 0;
#X obj 161 146 slop~ 0 0 0 0 1e+09;
#X obj 239 18 inlet;
#X floatatom 239 57 5 0 0 0 - - - 0;
#X text 359 89 convert to hz;
#X text 282 118 hz;
#X text 284 57 peak decay time in ms;
#X obj 59 171 t f b;
#X text 345 132 The env~ object is dedicated to RMS analysis. Its output is in dB (0-100 range \, pd style) but needs to be converted to dBFS (and we do that by simply subtracting 100)., f 31;
#X text 345 225 The slop~ object is used here for peak detection. We need to convert the output to dB with rmstodb and also subtract by 100 to convert it to dBFS., f 31;
#X connect 0 0 18 0 empty;
#X connect 1 0 12 0 empty;
#X connect 2 0 3 0 empty;
#X connect 3 0 5 0 empty;
#X connect 4 0 0 0 empty;
#X connect 4 0 1 0 empty;
#X connect 5 0 8 0 empty;
#X connect 6 0 7 0 empty;
#X connect 10 0 11 0 empty;
#X connect 11 0 12 3 empty;
#X connect 12 0 2 0 empty;
#X connect 13 0 14 0 empty;
#X connect 14 0 10 0 empty;
#X connect 18 0 6 0 empty;
#X connect 18 1 2 0 empty;
#X restore 440 650 pd vu;
#N canvas 329 161 625 417 vu 0;
#X obj 59 129 env~ 1024;
#X obj 161 111 abs~;
#X obj 161 213 snapshot~;
#X obj 161 256 rmstodb;
#X obj 161 21 inlet~;
#X obj 161 288 - 100;
#X obj 59 287 - 100;
#X obj 59 361 outlet;
#X obj 161 361 outlet;
#X text 344 307 Check the help file of env~ and slop~ for more details., f 31;
#X obj 239 89 expr 1000 / $f1;
#X floatatom 239 117 5 0 0 0 - - - 0;
#X obj 161 146 slop~ 0 0 0 0 1e+09;
#X obj 239 18 inlet;
#X floatatom 239 57 5 0 0 0 - - - 0;
#X text 359 89 convert to hz;
#X text 282 118 hz;
#X text 284 57 peak decay time in ms;
#X obj 59 171 t f b;
#X text 345 132 The env~ object is dedicated to RMS analysis. Its output is in dB (0-100 range \, pd style) but needs to be converted to dBFS (and we do that by simply subtracting 100)., f 31;
#X text 345 225 The slop~ object is used here for peak detection. We need to convert the output to dB with rmstodb and also subtract by 100 to convert it to dBFS., f 31;
#X connect 0 0 18 0 empty;
#X connect 1 0 12 0 empty;
#X connect 2 0 3 0 empty;
#X connect 3 0 5 0 empty;
#X connect 4 0 0 0 empty;
#X connect 4 0 1 0 empty;
#X connect 5 0 8 0 empty;
#X connect 6 0 7 0 empty;
#X connect 10 0 11 0 empty;
#X connect 11 0 12 3 empty;
#X connect 12 0 2 0 empty;
#X connect 13 0 14 0 empty;
#X connect 14 0 10 0 empty;
#X connect 18 0 6 0 empty;
#X connect 18 1 2 0 empty;
#X restore 509 651 pd vu;
#X msg 385 161 \; \$1-poly_grain-R normalize;
#X msg 556 166 \; \$1-poly_grain-L normalize;
#X obj 289 148 s \$1-visual;
#X obj 489 55 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 108 780 t b b;
#X obj 55 821 s \$1-visual;
#X obj 774 469 r \$1-recordLoop;
#X msg 825 707 \; \$1-poly_grain-L resize 88200;
#X msg 740 739 \; \$1-poly_grain-R resize 88200;
#X obj 769 503 sel 1 0;
#X obj 765 595 t b b b;
#X obj 784 526 t b b;
#X msg 874 606 0;
#X msg 829 613 1;
#X obj 874 644 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 874 664 metro 2000;
#X obj 877 686 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 122 60 r \$1-recordLoop;
#X obj 1536 1536;
#X obj 479 76 symbol \$1;
#X obj 314 96 t b s;
#X obj 899 180 symbol \$1;
#X obj 783 243 pack 0 s;
#X obj 776 667 symbol \$1;
#X obj 138 811 symbol \$1;
#X connect 0 0 16 0 empty;
#X connect 0 0 17 0 empty;
#X connect 1 0 16 0 empty;
#X connect 1 0 17 0 empty;
#X connect 2 0 24 0 empty;
#X connect 3 0 2 0 empty;
#X connect 3 1 14 0 empty;
#X connect 3 1 69 0 empty;
#X connect 4 0 16 0 empty;
#X connect 4 0 48 0 empty;
#X connect 5 0 4 1 empty;
#X connect 5 0 10 1 empty;
#X connect 7 0 6 0 empty;
#X connect 8 0 7 1 empty;
#X connect 8 0 11 1 empty;
#X connect 9 0 8 0 empty;
#X connect 10 0 17 0 empty;
#X connect 10 0 49 0 empty;
#X connect 11 0 6 1 empty;
#X connect 12 0 13 1 empty;
#X connect 12 0 14 1 empty;
#X connect 13 0 5 0 empty;
#X connect 14 0 0 0 empty;
#X connect 15 0 4 0 empty;
#X connect 15 0 7 0 empty;
#X connect 15 1 10 0 empty;
#X connect 15 1 11 0 empty;
#X connect 18 0 3 0 empty;
#X connect 19 0 13 0 empty;
#X connect 20 0 9 0 empty;
#X connect 23 0 25 0 empty;
#X connect 24 2 23 0 empty;
#X connect 25 2 26 0 empty;
#X connect 26 0 1 0 empty;
#X connect 27 0 54 0 empty;
#X connect 30 0 31 0 empty;
#X connect 31 0 44 0 empty;
#X connect 32 0 30 1 empty;
#X connect 33 0 30 0 empty;
#X connect 34 0 39 0 empty;
#X connect 34 1 32 0 empty;
#X connect 35 0 36 0 empty;
#X connect 36 0 37 1 empty;
#X connect 37 0 21 0 empty;
#X connect 37 0 72 0 empty;
#X connect 38 0 34 0 empty;
#X connect 39 0 33 0 empty;
#X connect 39 1 42 0 empty;
#X connect 42 0 37 0 empty;
#X connect 43 0 38 0 empty;
#X connect 44 0 37 0 empty;
#X connect 45 0 71 0 empty;
#X connect 48 0 46 0 empty;
#X connect 49 0 47 0 empty;
#X connect 53 0 69 0 empty;
#X connect 54 0 55 0 empty;
#X connect 54 1 74 0 empty;
#X connect 56 0 59 0 empty;
#X connect 59 0 60 0 empty;
#X connect 59 1 61 0 empty;
#X connect 60 1 73 0 empty;
#X connect 60 2 63 0 empty;
#X connect 61 0 14 0 empty;
#X connect 61 1 62 0 empty;
#X connect 62 0 64 0 empty;
#X connect 63 0 64 0 empty;
#X connect 64 0 65 0 empty;
#X connect 65 0 66 0 empty;
#X connect 66 0 26 0 empty;
#X connect 67 0 13 0 empty;
#X connect 69 0 70 0 empty;
#X connect 70 0 52 0 empty;
#X connect 70 1 51 0 empty;
#X connect 70 1 50 0 empty;
#X connect 71 0 72 1 empty;
#X connect 72 0 40 0 empty;
#X connect 72 0 41 0 empty;
#X connect 73 0 57 0 empty;
#X connect 73 0 58 0 empty;
#X connect 74 0 28 0 empty;
#X connect 74 0 29 0 empty;
#X restore 1217 432 pd sampling_stereo;
#X obj 60 245 clone y_grain_stereo 16 \$1;
#X msg 338 200 16;
#N canvas 329 161 625 417 vu 1;
#X obj 59 129 env~ 1024;
#X obj 161 111 abs~;
#X obj 161 213 snapshot~;
#X obj 161 256 rmstodb;
#X obj 161 21 inlet~;
#X obj 161 288 - 100;
#X obj 59 287 - 100;
#X obj 59 361 outlet;
#X obj 161 361 outlet;
#X text 344 307 Check the help file of env~ and slop~ for more details., f 31;
#X obj 239 89 expr 1000 / $f1;
#X floatatom 239 117 5 0 0 0 - - - 0;
#X obj 161 146 slop~ 0 0 0 0 1e+09;
#X obj 239 18 inlet;
#X floatatom 239 57 5 0 0 0 - - - 0;
#X text 359 89 convert to hz;
#X text 282 118 hz;
#X text 284 57 peak decay time in ms;
#X obj 59 171 t f b;
#X text 345 132 The env~ object is dedicated to RMS analysis. Its output is in dB (0-100 range \, pd style) but needs to be converted to dBFS (and we do that by simply subtracting 100)., f 31;
#X text 345 225 The slop~ object is used here for peak detection. We need to convert the output to dB with rmstodb and also subtract by 100 to convert it to dBFS., f 31;
#X connect 0 0 18 0 empty;
#X connect 1 0 12 0 empty;
#X connect 2 0 3 0 empty;
#X connect 3 0 5 0 empty;
#X connect 4 0 0 0 empty;
#X connect 4 0 1 0 empty;
#X connect 5 0 8 0 empty;
#X connect 6 0 7 0 empty;
#X connect 10 0 11 0 empty;
#X connect 11 0 12 3 empty;
#X connect 12 0 2 0 empty;
#X connect 13 0 14 0 empty;
#X connect 14 0 10 0 empty;
#X connect 18 0 6 0 empty;
#X connect 18 1 2 0 empty;
#X restore 400 623 pd vu;
#N canvas 329 161 625 417 vu 1;
#X obj 59 129 env~ 1024;
#X obj 161 111 abs~;
#X obj 161 213 snapshot~;
#X obj 161 256 rmstodb;
#X obj 161 21 inlet~;
#X obj 161 288 - 100;
#X obj 59 287 - 100;
#X obj 59 361 outlet;
#X obj 161 361 outlet;
#X text 344 307 Check the help file of env~ and slop~ for more details., f 31;
#X obj 239 89 expr 1000 / $f1;
#X floatatom 239 117 5 0 0 0 - - - 0;
#X obj 161 146 slop~ 0 0 0 0 1e+09;
#X obj 239 18 inlet;
#X floatatom 239 57 5 0 0 0 - - - 0;
#X text 359 89 convert to hz;
#X text 282 118 hz;
#X text 284 57 peak decay time in ms;
#X obj 59 171 t f b;
#X text 345 132 The env~ object is dedicated to RMS analysis. Its output is in dB (0-100 range \, pd style) but needs to be converted to dBFS (and we do that by simply subtracting 100)., f 31;
#X text 345 225 The slop~ object is used here for peak detection. We need to convert the output to dB with rmstodb and also subtract by 100 to convert it to dBFS., f 31;
#X connect 0 0 18 0 empty;
#X connect 1 0 12 0 empty;
#X connect 2 0 3 0 empty;
#X connect 3 0 5 0 empty;
#X connect 4 0 0 0 empty;
#X connect 4 0 1 0 empty;
#X connect 5 0 8 0 empty;
#X connect 6 0 7 0 empty;
#X connect 10 0 11 0 empty;
#X connect 11 0 12 3 empty;
#X connect 12 0 2 0 empty;
#X connect 13 0 14 0 empty;
#X connect 14 0 10 0 empty;
#X connect 18 0 6 0 empty;
#X connect 18 1 2 0 empty;
#X restore 469 624 pd vu;
#X obj 398 662 s \$1-vu-L;
#X obj 482 664 s \$1-vu-R;
#X obj 216 548 loadbang;
#X obj 220 579 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 218 633 \; \$1-poly_grain-L edit 0 \; \$1-poly_grain-L edit 0;
#X obj 47 419 r \$1-choose_sound;
#X obj 47 440 openpanel;
#X obj 144 477 loadbang;
#X obj 114 518 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 39 699 soundfiler;
#X obj 39 759 s \$1-samplelength;
#X msg 39 659 read -resize \$1 \$2-poly_grain-L \$2-poly_grain-R;
#X obj 179 719 t b;
#X obj 179 759 s \$1-visual;
#X obj 527 562 throw~ recordingL;
#X obj 556 607 throw~ recordingR;
#X obj 239 54 symbol \$2;
#X obj 242 28 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X symbolatom 247 81 23 0 0 0 - - - 0;
#X obj 799 -61 array define \$1-poly_grain-L;
#X obj 800 -30 array define \$1-poly_grain-R;
#X obj 114 543 symbol \$1;
#X obj 223 608 symbol \$1;
#X obj 46 585 pack s s;
#X obj 39 879 ossia.model \$1;
#X obj 439 879 s \$1-sample_offset;
#X obj 439 799 r \$1-sample_offset_rcv;
#X obj 439 919 r \$1-offset_random_rcv;
#X obj 439 999 s \$1-offset_random;
#X obj 439 1039 r \$1-reverse_rcv;
#X obj 439 1119 s \$1-reverse;
#X obj 439 1159 r \$1-reverse_random_rcv;
#X obj 439 1239 s \$1-reverse_random;
#X obj 439 1279 r \$1-grain_pitch_rcv;
#X obj 439 1359 s \$1-grain_pitch;
#X obj 439 1539 r \$1-random_pitch_rcv;
#X obj 439 1619 s \$1-random_pitch;
#X obj 899 799 r \$1-grain_size_rcv;
#X obj 899 879 s \$1-grain_size;
#X obj 899 919 r \$1-grain_density_rcv;
#X obj 899 999 s \$1-grain_density;
#X obj 899 1039 r \$1-grainplay_chance_rcv;
#X obj 899 1119 s \$1-grainplay_chance;
#X obj 439 1479 s \$1-reset_pitch;
#X obj 439 1399 r \$1-reset_pitch_rcv;
#X obj 1399 799 r \$1-on_off_rcv;
#X obj 1399 879 s \$1-on_off;
#X obj 1399 939 r \$1-record_rcv;
#X obj 1399 1019 s \$1-record;
#X obj 1399 1079 r \$1-recordLoop_rcv;
#X obj 1399 1159 s \$1-recordLoop;
#X obj 1799 839 ossia.parameter autoplay/on_off @type bool;
#X obj 1799 799 r \$1-autoplay_on_off_rcv;
#X obj 1799 879 s \$1-autoplay_on_off;
#X obj 1799 939 r \$1-autoplay_reverse_rcv;
#X obj 1799 1019 s \$1-autoplay_reverse;
#X obj 1799 1079 r \$1-freeze_rcv;
#X obj 1799 1159 s \$1-freeze;
#X obj 1799 1259 ossia.parameter autoplay/speed @type float @range 0 1 @clip both, f 70;
#X obj 1799 1219 r \$1-autoplay_speed_rcv;
#X obj 1799 1299 s \$1-autoplay_speed;
#X obj 2279 799 r \$1-volume_rcv;
#X obj 2279 879 s \$1-volume;
#X obj 2279 939 r \$1-global_pan_rcv;
#X obj 2279 1019 s \$1-global_pan;
#X obj 2279 1079 r \$1-random_panning_rcv;
#X obj 2279 1159 s \$1-random_panning;
#X obj 2279 1119 ossia.parameter output/pan_random @type float @range 0 1 @clip both, f 70;
#X obj 439 839 ossia.parameter grain/offset @type float @range 0 1 @clip both;
#X obj 439 959 ossia.parameter grain/offset_random @type float @range 0 1 @clip both;
#X obj 439 1439 ossia.parameter grain/pitch_reset @type impulse;
#X obj 439 1579 ossia.parameter grain/pitch_random @type float @range 0 1 @clip both;
#X obj 899 1079 ossia.parameter grain/play_chance @type float @range 0 1 @clip both @default 1, f 70;
#X obj 899 839 ossia.parameter grain/size @type float @range 0.001 1 @clip both @default 0.5;
#X obj 1799 979 ossia.parameter autoplay/reverse @type bool @default false;
#X obj 1799 1119 ossia.parameter autoplay/freeze @type bool @default false;
#X obj 1399 979 ossia.parameter record/on @type bool @default false;
#X obj 1399 1119 ossia.parameter record/loop @type bool @default false;
#X obj 1399 839 ossia.parameter playback/on @type bool @default false;
#X obj 2279 839 ossia.parameter output/volume @type float @range 0 1 @clip both @default 1, f 70;
#X obj 2279 979 ossia.parameter output/pan @type float @range 0 1 @clip both @default 0.5, f 70;
#X obj 439 1319 ossia.parameter grain/pitch @type float @range 0 1 @clip both @default 0.25;
#X obj 439 1079 ossia.parameter grain/reverse @type bool @default 0;
#X obj 439 1199 ossia.parameter grain/reverse_random @type bool @default 0;
#X obj 899 959 ossia.parameter grain/density @type float @range 0.002 1 @clip both @default 0.25, f 70;
#X connect 1 0 5 0 empty;
#X connect 3 0 54 0 empty;
#X connect 4 0 1 0 empty;
#X connect 6 0 32 0 empty;
#X connect 8 0 32 0 empty;
#X connect 10 0 13 0 empty;
#X connect 11 0 53 0 empty;
#X connect 12 0 22 0 empty;
#X connect 13 0 14 0 empty;
#X connect 14 0 15 0 empty;
#X connect 15 0 16 0 empty;
#X connect 16 0 17 0 empty;
#X connect 17 0 18 0 empty;
#X connect 18 0 34 0 empty;
#X connect 19 0 15 1 empty;
#X connect 20 0 21 0 empty;
#X connect 21 0 40 0 empty;
#X connect 22 0 10 1 empty;
#X connect 23 0 20 0 empty;
#X connect 24 0 25 0 empty;
#X connect 25 0 10 0 empty;
#X connect 27 0 42 0 empty;
#X connect 28 0 43 0 empty;
#X connect 29 0 27 0 empty;
#X connect 30 0 28 0 empty;
#X connect 31 0 27 1 empty;
#X connect 31 0 28 1 empty;
#X connect 33 0 11 0 empty;
#X connect 35 0 18 0 empty;
#X connect 36 0 19 0 empty;
#X connect 37 0 12 0 empty;
#X connect 38 0 24 0 empty;
#X connect 39 0 23 0 empty;
#X connect 41 0 20 1 empty;
#X connect 42 0 44 0 empty;
#X connect 43 0 45 0 empty;
#X connect 44 0 26 0 empty;
#X connect 44 0 55 0 empty;
#X connect 44 0 71 0 empty;
#X connect 45 0 26 1 empty;
#X connect 45 0 56 0 empty;
#X connect 45 0 72 0 empty;
#X connect 46 0 49 0 empty;
#X connect 47 0 46 0 empty;
#X connect 49 0 48 0 empty;
#X connect 54 0 32 0 empty;
#X connect 55 0 57 0 empty;
#X connect 56 0 58 0 empty;
#X connect 59 0 60 0 empty;
#X connect 60 0 79 0 empty;
#X connect 62 0 63 0 empty;
#X connect 63 0 80 0 empty;
#X connect 64 0 65 0 empty;
#X connect 65 0 78 0 empty;
#X connect 66 0 67 0 empty;
#X connect 66 0 69 0 empty;
#X connect 68 0 66 0 empty;
#X connect 69 0 70 0 empty;
#X connect 73 0 75 0 empty;
#X connect 74 0 73 0 empty;
#X connect 78 0 80 1 empty;
#X connect 79 0 61 0 empty;
#X connect 80 0 68 0 empty;
#X connect 83 0 125 0 empty;
#X connect 84 0 126 0 empty;
#X connect 86 0 139 0 empty;
#X connect 88 0 140 0 empty;
#X connect 90 0 138 0 empty;
#X connect 92 0 128 0 empty;
#X connect 94 0 130 0 empty;
#X connect 96 0 141 0 empty;
#X connect 98 0 129 0 empty;
#X connect 101 0 127 0 empty;
#X connect 102 0 135 0 empty;
#X connect 104 0 133 0 empty;
#X connect 106 0 134 0 empty;
#X connect 108 0 110 0 empty;
#X connect 109 0 108 0 empty;
#X connect 111 0 131 0 empty;
#X connect 113 0 132 0 empty;
#X connect 115 0 117 0 empty;
#X connect 116 0 115 0 empty;
#X connect 118 0 136 0 empty;
#X connect 120 0 137 0 empty;
#X connect 122 0 124 0 empty;
#X connect 124 0 123 0 empty;
#X connect 125 0 82 0 empty;
#X connect 126 0 85 0 empty;
#X connect 127 0 100 0 empty;
#X connect 128 0 93 0 empty;
#X connect 129 0 99 0 empty;
#X connect 130 0 95 0 empty;
#X connect 131 0 112 0 empty;
#X connect 132 0 114 0 empty;
#X connect 133 0 105 0 empty;
#X connect 134 0 107 0 empty;
#X connect 135 0 103 0 empty;
#X connect 136 0 119 0 empty;
#X connect 137 0 121 0 empty;
#X connect 138 0 91 0 empty;
#X connect 139 0 87 0 empty;
#X connect 140 0 89 0 empty;
#X connect 141 0 97 0 empty;
#X coords 0 761 1 760 400 600 0;
